@model ShoppingCart.Models.RegisterViewModel
@{
    ViewBag.Title = "Register";
}
<div class="col-lg-12" style="padding-top:5%">
    <h2 class="Text-Center">@ViewBag.Title</h2>
    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        <h4 class="Text-Center">Create a new account.</h4>
        <hr />
        <div class="col-lg-5 col-lg-offset-1" style="padding-top:1%">
            @Html.EditorFor(m => m.FirstName, new { htmlAttributes = new { @class = "form-control", @placeholder = "First name" } })
            @Html.ValidationMessageFor(m => m.FirstName)
            <br />
            @Html.EditorFor(m => m.LastName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Last name" } })
            @Html.ValidationMessageFor(m => m.LastName)
            <br />
            @Html.EditorFor(m => m.Email, new { htmlAttributes = new { @class = "form-control", @placeholder = "Email" } })
            @Html.ValidationMessageFor(m => m.Email)
            <br />
            @Html.PasswordFor(m => m.Password, new { @class = "form-control", @placeholder = "Password" })
            @Html.ValidationMessageFor(m => m.Password)
             <br />
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @placeholder = "Confirm Password" })
            @Html.ValidationMessageFor(m => m.ConfirmPassword)
            <br />
            @Html.EditorFor(m => m.DateOfBirth, new { htmlAttributes = new { @class = "form-control", @placeholder = "Date of birth" } })
            @Html.ValidationMessageFor(m => m.DateOfBirth)
            <br />
            @Html.EditorFor(m => m.City, new { htmlAttributes = new { @class = "form-control", @placeholder = "City" } })
            @Html.ValidationMessageFor(m => m.City)
            <br />
            @Html.DropDownListFor(m => m.Country, (IEnumerable<SelectListItem>)ViewData["Countries"], "Select",new { @class = "form-control", @placeholder = "Country" })
            @Html.ValidationMessageFor(m => m.Country)
            <br />
            @Html.EditorFor(m => m.Phone, new { htmlAttributes = new { @class = "form-control", @placeholder = "Phone number" } })
            @Html.ValidationMessageFor(m => m.Phone)
            <br />
            @Html.EditorFor(m => m.Address, new { htmlAttributes = new { @class = "form-control", @placeholder = "Address" } })
            @Html.ValidationMessageFor(m => m.Address)
            <br />
        </div>
       <div class="col-lg-6 Text-Center">
           <img src="~/Images/default.png" class="center" id="imagePreview" style="max-height:30%;max-width:40%" width="300" height="200" />
            <label class="form-control" style="margin-top:7%;width:40%;cursor:pointer" onclick="CheckFile()">
               <input type="file" name="UserUpload" id="fileUpload" accept=".png,.jpg,.jpeg,.gif,.tif" onchange="ShowImagePreview(this,document.getElementById('imagePreview'))" />
               Upload your Picture
           </label>
           <p id="Selected"></p>
       </div>
    <div class="Text-Center col-lg-offset-2" style="margin-bottom:0px">
        <input type="submit" value="Register" class="Btn-Register" />
    </div>
    <hr />
    }
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}


<script>
    function CheckFile()
    {
        $("#fileUpload").bind('change', function () {

            //this.files[0].size gets the size of your file.
            $("#Selected").html(this.files[0].name);

        });
    }

    function ShowImagePreview(imageUploader, previewImage) {
        if (imageUploader.files && imageUploader.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $(previewImage).attr('src', e.target.result);
            }
            reader.readAsDataURL(imageUploader.files[0]);
        }
    }
   
</script>
